---
globs: **/*.tsx,**/*.ts
---

# Performance Optimization Patterns

## React Performance
- **React.memo()** - Memoize expensive components (list items, cards)
- **useMemo()** - Cache expensive calculations
- **useCallback()** - Memoize event handlers passed to children
- **Lazy loading** - Code split routes and heavy components

## List Performance
- **FlashList** - Use instead of FlatList for large lists
- **Virtualization** - Only render visible items
- **Key optimization** - Use stable, unique keys
- **Item recycling** - Reuse components when possible

## Image Optimization
- **Expo Image** - Use for React Native with caching
- **Lazy loading** - Load images as they come into view
- **Compression** - Compress images before upload
- **Multiple sizes** - Serve appropriate image sizes

## Network Optimization
- **Debounced requests** - Debounce search and filter operations
- **Pagination** - Load data in chunks
- **Caching** - Cache frequently accessed data
- **Prefetching** - Preload likely-needed data

## Bundle Optimization
- **Tree shaking** - Import only needed functions
- **Code splitting** - Split by route and feature
- **Dynamic imports** - Load modules on demand
- **Bundle analysis** - Monitor bundle size regularly

## Database Optimization
- **Indexed queries** - Use database indexes effectively
- **Batch operations** - Group related updates
- **Selective fields** - Only fetch needed data
- **Connection pooling** - Reuse database connections

## Memory Management
- **Cleanup** - Remove event listeners and timers
- **Weak references** - Use WeakMap/WeakSet when appropriate
- **Garbage collection** - Avoid memory leaks
- **Memory monitoring** - Track memory usage in production